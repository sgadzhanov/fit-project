<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">

<head th:include="fragments/common :: head">
</head>

<body class="bg-secondary">

<nav th:replace="fragments/common :: navbar">
</nav>

<div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col col-xl-10">
            <div class="card" style="border-radius: 1rem;">
                <div class="row g-0">
                    <div class="col-md-6 col-lg-5 d-none d-md-block">
                        <img
                                src="https://res.cloudinary.com/algruev/image/upload/v1636545225/Fitshop/register-img_baha4a.jpg"
                                alt="login form"
                                class="img-fluid" style="border-radius: 1rem 0 0 1rem;"
                        />
                    </div>
                    <div class="col-md-6 col-lg-7 d-flex align-items-center">
                        <div class="card-body p-4 p-lg-5 text-black">

                            <form
                                    th:action="@{/users/register}"
                                    th:method="POST"
                                    th:object="${userRegisterBindingModel}"
                            >

                                <div class="d-flex align-items-center mb-3 pb-1">
                                    <span class="h1 fw-bold mb-0">Fitshop</span>
                                </div>

                                <h5 class="fw-normal mb-3 pb-3" style="letter-spacing: 1px;">Create
                                    account</h5>

                                <div class="form-outline mb-4">
                                    <input th:field="*{username}"
                                           th:errorclass="is-invalid"
                                           required minlength="3" maxlength="20"
                                           aria-describedby="usernameError"
                                           type="text" id="username" class="form-control form-control-lg"/>
                                    <label class="form-label" for="username">Username</label>

                                    <small id="usernameError"
                                           class="invalid-feedback rounded form-text"></small>
                                </div>

                                <div class="form-outline mb-4">
                                    <input th:field="*{email}"
                                           th:errorclass="is-invalid"
                                           required minlength="5" maxlength="40"
                                           aria-describedby="emailError"
                                           type="email" id="email" class="form-control form-control-lg"/>
                                    <label class="form-label" for="email">Email</label>

                                    <small id="emailError"
                                           class="invalid-feedback rounded form-text"></small>
                                </div>

                                <div class="form-outline mb-4">
                                    <input th:field="*{password}"
                                           th:errorclass="is-invalid"
                                           required minlength="3" maxlength="20"
                                           aria-describedby="passwordError"
                                           type="password" id="password"
                                           class="form-control form-control-lg"/>
                                    <label class="form-label" for="password">Password</label>

                                    <small id="passwordError"
                                           class="invalid-feedback rounded form-text">Password must be between 3 and 20
                                        symbols.</small>
                                </div>

                                <div class="form-outline mb-4">
                                    <input th:field="*{confirmPassword}"
                                           th:errorclass="is-invalid"
                                           required minlength="3" maxlength="20"
                                           aria-describedby="confirmPasswordError"
                                           type="password" id="confirmPassword"
                                           class="form-control form-control-lg"/>
                                    <label class="form-label" for="confirmPassword">Confirm Password</label>

                                    <small id="confirmPasswordError"
                                           class="invalid-feedback rounded form-text">Confirm password must be between 3
                                        and 20 symbols.</small>
                                </div>

                                <p th:if="${diffPasswords}" class="errors alert alert-danger">
                                    Passwords don't match.
                                </p>

                                <div class="form-outline mb-4">
                                    <label for="level">Level</label>
                                    <select th:field="*{experienceLevel}"
                                            th:errorclass="'is-ivalid'"
                                            aria-describedby="confirmPasswordError"
                                            required
                                            id="level" class="custom-select">
                                        <option value="" selected>Select level</option>
                                        <option
                                                th:each="e: ${experienceLevels}"
                                                th:value="${e.name()}"
                                                th:text="${e.name()}">

                                        </option>
                                    </select>

                                    <small id="levelError"
                                           class="invalid-feedback rounded form-text">Experience level is
                                        required.</small>
                                </div>

                                <div class="pt-1 mb-4">
                                    <input type="submit" class="btn btn-dark btn-lg btn-block" value="Register"/>
                                </div>

                                <p class="mb-5 pb-lg-2" style="color: #393f81;">
                                    Already have an account? <a th:href="@{/users/login}" style="color: #393f81;">Login
                                    here</a></p>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer th:replace="fragments/common :: footer">
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>